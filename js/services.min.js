var app=angular.module("TwitchList.services",[]),RequestFactory=function(t){return{get:function(e,n,i){t.get(e).then(function(t){n(t)},function(t){i(t)})}}};RequestFactory.$inject=["$http"];var LocationService=function(t){var e=t.location.search,n=t.location.hash,i=t.location.pathname,r=function(t){var e={};return t.filter(function(t){return e.hasOwnProperty(t)?!1:e[t]=!0})};this.getPath=function(){return i},this.getSearchSplit=function(t){return""===e?[]:r(e.substr(1,e.length).split(t))},this.getHashSplit=function(t){return""===n?[]:r(n.substr(1,n.length).split(t))}};LocationService.$inject=["$window"];var TwitchListService=function(t,e){var n="https://api.twitch.tv/kraken/",i="https://player.twitch.tv/?channel=";this.requestStream=function(e){var r={};return r.name=e,t.get(n+"channels/"+e,function(a){r.logo=null!==a.data.logo?a.data.logo:"img/150x150-placeholder.png",r.name=a.data.name,r.title=a.data.status,r.url=i+r.name,t.get(n+"streams/"+e,function(t){r.status=null!==t.data.stream?"online":"offline"})}),r},this.splitAddressSearch=function(t){return e.getSearchSplit(t)}};TwitchListService.$inject=["RequestFactory","LocationService"],app.factory("RequestFactory",RequestFactory),app.service("LocationService",LocationService),app.service("TwitchListService",TwitchListService);
