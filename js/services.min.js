var services=angular.module("twitchList.services",[]),RequestFactory=function(a){return{get:function(b,c,d){a.get(b).then(c,d)}}};RequestFactory.$inject=["$http"];var LocationService=function(a){function b(b){a.location.search+=b}function c(b){a.location.hash+=b}function d(a){var b={};return a.filter(function(a){return!b.hasOwnProperty(a)&&(b[a]=!0)})}function e(a,b){return""===a?[]:d(a.substr(1,a.length).split(b))}var f=a.location.search,g=a.location.hash,h=a.location.pathname;this.getPath=function(){return h},this.appendSearch=b,this.appendHash=c,this.getSearchSplit=function(a){return e(f,a)},this.getHashSplit=function(a){return e(g,a)}};LocationService.$inject=["$window"];var TwitchListService=function(a,b){var c="https://api.twitch.tv/kraken/",d="https://player.twitch.tv/?channel=";this.requestStream=function(b){var e={};return e.name=b,a.get(c+"channels/"+b,function(f){e.logo=null!==f.data.logo?f.data.logo:"img/150x150-placeholder.png",e.name=f.data.name,e.title=f.data.status,e.url=d+e.name,a.get(c+"streams/"+b,function(a){e.status=null!==a.data.stream?"online":"offline"})},function(){e.logo="img/150x150-placeholder.png",e.name=b,e.title="Account Unavailable",e.url="http://twitch.tv/404/404"}),e},this.splitAddressSearch=function(a){return b.getSearchSplit(a)},this.splitAddressHash=function(a){return b.getHashSplit(a)}};TwitchListService.$inject=["requestFactory","locationService"],services.factory("requestFactory",RequestFactory),services.service("locationService",LocationService),services.service("twitchListService",TwitchListService);