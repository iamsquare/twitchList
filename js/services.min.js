var app=angular.module("TwitchList.services",[]),RequestFactory=function(t){return{get:function(i,e,n){t.get(i).then(e,n)}}};RequestFactory.$inject=["$http"];var LocationService=function(t){var i=t.location.search,e=t.location.hash,n=t.location.pathname,a=function(t){var i={};return t.filter(function(t){return i.hasOwnProperty(t)?!1:i[t]=!0})};this.getPath=function(){return n},this.getSearchSplit=function(t){return""===i?[]:a(i.substr(1,i.length).split(t))},this.getHashSplit=function(t){return""===e?[]:a(e.substr(1,e.length).split(t))}};LocationService.$inject=["$window"];var TwitchListService=function(t,i){var e="https://api.twitch.tv/kraken/",n="https://player.twitch.tv/?channel=";this.requestStream=function(i){var a={};return a.name=i,t.get(e+"channels/"+i,function(r){a.logo=null!==r.data.logo?r.data.logo:"img/150x150-placeholder.png",a.name=r.data.name,a.title=r.data.status,a.url=n+a.name,t.get(e+"streams/"+i,function(t){a.status=null!==t.data.stream?"online":"offline"})},function(){a.logo="img/150x150-placeholder.png",a.name=i,a.title="Account Unavailable",a.url="http://twitch.tv/404/404"}),a},this.splitAddressSearch=function(t){return i.getSearchSplit(t)}};TwitchListService.$inject=["RequestFactory","LocationService"],app.factory("RequestFactory",RequestFactory),app.service("LocationService",LocationService),app.service("TwitchListService",TwitchListService);
